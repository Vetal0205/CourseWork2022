<div class="mission-main">
    <h1>Головна | Наряди</h1>
    <h2>Наряди</h2>
</div>

<section class="mission-block">

    <app-add-mission-form [techForMission]="technicForMissionList" (onAddMission)="addMission($event)">
    </app-add-mission-form>
    <div class="mission-container">
        <div cdkDropList #missionList="cdkDropList" [cdkDropListData]="technicForMissionList"
            [cdkDropListConnectedTo]="[technicList]" class="technic-list" (cdkDropListDropped)="drop($event)">
            <app-draggable-m-t-item *ngFor="let tech of technicForMissionList | paginate: 
            { 
                id:'forMission',
                itemsPerPage: pageSizeM,
                currentPage: pageMission,
                totalItems: pageMissionListLength 
            }" [tech]="tech" [all]="true">
            </app-draggable-m-t-item>
            <img src="assets\placeholder.png" class="mission-form__placeholder">
        </div>
        <div *ngIf="technicForMissionList.length > 0" class="pagination">
            <pagination-controls id="forMission" previousLabel="Prev" nextLabel="Next" [responsive]="true"
                (pageChange)="handlePageChange($event, 'M')"></pagination-controls>
            <select (change)="handlePageSizeChange($event, 'M')">
                <option *ngFor="let size of pageSizes" [ngValue]="pageSizeM">{{size}}</option>
            </select>
        </div>
    </div>
    <div class="technic-container">
        <div cdkDropList #technicList="cdkDropList" [cdkDropListData]="allTechnicList" class="technic-list"
            (cdkDropListDropped)="drop($event)" [cdkDropListConnectedTo]="[missionList]">
            <app-draggable-m-t-item *ngFor="let tech of allTechnicList | paginate: 
            { 
                id:'forAllTech',
                itemsPerPage: pageSizeA,
                currentPage: pageAlltech,
                totalItems: pageAllListLength
            }" [tech]="tech" [all]="false">
            </app-draggable-m-t-item>
        </div>
        
        <div *ngIf="allTechnicList.length > 0" class="pagination">
            <pagination-controls id="forAllTech" previousLabel="Prev" nextLabel="Next" [responsive]="true"
                (pageChange)="handlePageChange($event, 'A')"></pagination-controls>
                <select (change)="handlePageSizeChange($event, 'A')">
                    <option *ngFor="let size of pageSizes" [ngValue]="pageSizeA">{{size}}</option>
                </select>
        </div>
    </div>
</section>